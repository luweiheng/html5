<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>bind模拟实现-5</title>
</head>
<body>
    <script>
        function Student(name){
            if(this instanceof Student){
                this.name = name;
                console.log('name', name);
            }
            else{
                throw new Error('必须通过new关键字来调用Student。');
            }
        }
        var student = new Student('轩辕');
        var notAStudent = Student.call(student, 'Rowboat'); // 不抛出错误，且执行了。
        console.log(student, 'student', notAStudent, 'notAStudent');

        function Student2(name){
            if(typeof new.target !== 'undefined'){
                this.name = name;
                console.log('name', name);
            }
            else{
                throw new Error('必须通过new关键字来调用Student2。');
            }
        }
        var student2 = new Student2('轩辕');
        var notAStudent2 = Student2.call(student2, 'Rowboat');
        console.log(student2, 'student2', notAStudent2, 'notAStudent2'); // 抛出错误
    </script>
</body>
</html>