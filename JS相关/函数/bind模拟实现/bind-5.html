<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>bind模拟实现-5</title>
    <style>
        a{
            display: block;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <div>
        <a href="https://juejin.im/post/5bec4183f265da616b1044d7" target="_blank">
            面试官问：能否模拟实现bind
        </a>
        <p>文章中的例子和测试代码放在`github`中。</p>
        <a href="https://github.com/lxchuan12/html5/tree/gh-pages/JS%E7%9B%B8%E5%85%B3/%E5%87%BD%E6%95%B0/bind%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0" target="_blank">
            bind模拟实现 github
        </a>
        <br/>
        <a href="http://lxchuan12.github.io/html5/JS%E7%9B%B8%E5%85%B3/%E5%87%BD%E6%95%B0/bind%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0/bind-0.html">
            bind模拟实现 预览地址 bind-0~8.html
        </a>
        <p>`F12`看控制台输出，结合`source`面板查看效果更佳。</p>
    </div>
    <script>
        function Student(name){
            if(this instanceof Student){
                this.name = name;
                console.log('name', name);
            }
            else{
                throw new Error('必须通过new关键字来调用Student。');
            }
        }
        var student = new Student('轩辕');
        var notAStudent = Student.call(student, 'Rowboat'); // 不抛出错误，且执行了。
        console.log(student, 'student', notAStudent, 'notAStudent');

        function Student2(name){
            if(typeof new.target !== 'undefined'){
                this.name = name;
                console.log('name', name);
            }
            else{
                throw new Error('必须通过new关键字来调用Student2。');
            }
        }
        var student2 = new Student2('轩辕');
        var notAStudent2 = Student2.call(student2, 'Rowboat');
        console.log(student2, 'student2', notAStudent2, 'notAStudent2'); // 抛出错误
    </script>
</body>
</html>